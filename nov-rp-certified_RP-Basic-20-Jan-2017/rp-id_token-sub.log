2017-01-19T15:59:39.931485+00:00 app[web.1]: I, [2017-01-19T15:59:39.931283 #4]  INFO -- : [9f854a45-d34c-4ba5-b4bd-564faa2a2092] Started GET "/test_cases/rp-id_token-sub" for 122.210.153.65 at 2017-01-19 15:59:39 +0000
2017-01-19T15:59:39.932714+00:00 app[web.1]: I, [2017-01-19T15:59:39.932577 #4]  INFO -- : [9f854a45-d34c-4ba5-b4bd-564faa2a2092] Processing by TestCasesController#show as HTML
2017-01-19T15:59:39.932809+00:00 app[web.1]: I, [2017-01-19T15:59:39.932737 #4]  INFO -- : [9f854a45-d34c-4ba5-b4bd-564faa2a2092]   Parameters: {"id"=>"rp-id_token-sub"}
2017-01-19T15:59:39.942573+00:00 app[web.1]: D, [2017-01-19T15:59:39.942452 #4] DEBUG -- : [9f854a45-d34c-4ba5-b4bd-564faa2a2092]   TestCase Load (1.0ms)  SELECT  "test_cases".* FROM "test_cases" WHERE "test_cases"."identifier" = $1 LIMIT $2  [["identifier", "rp-id_token-sub"], ["LIMIT", 1]]
2017-01-19T15:59:39.944537+00:00 app[web.1]: I, [2017-01-19T15:59:39.944479 #4]  INFO -- : [9f854a45-d34c-4ba5-b4bd-564faa2a2092] ======= [SWD] HTTP REQUEST STARTED =======
2017-01-19T15:59:39.944539+00:00 app[web.1]: GET /nov-rp-certified/rp-id_token-sub/.well-known/openid-configuration HTTP/1.1
2017-01-19T15:59:39.944540+00:00 app[web.1]: Host: rp.certification.openid.net:8080
2017-01-19T15:59:39.944541+00:00 app[web.1]:
2017-01-19T15:59:39.944541+00:00 app[web.1]:
2017-01-19T15:59:40.003318+00:00 app[web.1]: I, [2017-01-19T15:59:40.003201 #4]  INFO -- : [9f854a45-d34c-4ba5-b4bd-564faa2a2092] --------------------------------------------------
2017-01-19T15:59:40.003322+00:00 app[web.1]: Status: 200 OK
2017-01-19T15:59:40.003323+00:00 app[web.1]: Cache-Control: no-store
2017-01-19T15:59:40.003324+00:00 app[web.1]: x-ffo: bar
2017-01-19T15:59:40.003324+00:00 app[web.1]: Content-type: application/json
2017-01-19T15:59:40.003325+00:00 app[web.1]: Access-Control-Allow-Origin: *
2017-01-19T15:59:40.003326+00:00 app[web.1]: Access-Control-Allow-Methods: GET
2017-01-19T15:59:40.003326+00:00 app[web.1]: Access-Control-Allow-Headers: Authorization
2017-01-19T15:59:40.003327+00:00 app[web.1]: Transfer-Encoding: chunked
2017-01-19T15:59:40.003327+00:00 app[web.1]: Date: Thu, 19 Jan 2017 15:59:39 GMT
2017-01-19T15:59:40.003328+00:00 app[web.1]: Server: openid-www2
2017-01-19T15:59:40.003328+00:00 app[web.1]: Content-Length: 0
2017-01-19T15:59:40.003329+00:00 app[web.1]:
2017-01-19T15:59:40.003338+00:00 app[web.1]: {"request_parameter_supported": true, "require_request_uri_registration": true, "response_types_supported": ["code", "id_token", "id_token token", "code id_token", "code token", "code id_token token"], "id_token_signing_alg_values_supported": ["RS256", "RS384", "RS512", "ES256", "ES384", "ES512", "HS256", "HS384", "HS512", "PS256", "PS384", "PS512", "none"], "token_endpoint_auth_methods_supported": ["client_secret_post", "client_secret_basic", "client_secret_jwt", "private_key_jwt"], "request_object_encryption_enc_values_supported": ["A128CBC-HS256", "A192CBC-HS384", "A256CBC-HS512", "A128GCM", "A192GCM", "A256GCM"], "response_modes_supported": ["query", "fragment", "form_post"], "jwks_uri": "https://rp.certification.openid.net:8080/static/jwks_RYNcLC0LjIEqAPaj.json", "userinfo_endpoint": "https://rp.certification.openid.net:8080/nov-rp-certified/rp-id_token-sub/userinfo", "request_object_signing_alg_values_supported": ["RS256", "RS384", "RS512", "ES256", "ES384", "ES512", "HS256", "HS384", "HS512", "PS256", "PS384", "PS512", "none"], "userinfo_encryption_enc_values_supported": ["A128CBC-HS256", "A192CBC-HS384", "A256CBC-HS512", "A128GCM", "A192GCM", "A256GCM"], "token_endpoint": "https://rp.certification.openid.net:8080/nov-rp-certified/rp-id_token-sub/token", "userinfo_encryption_alg_values_supported": ["RSA1_5", "RSA-OAEP", "A128KW", "A192KW", "A256KW", "ECDH-ES", "ECDH-ES+A128KW", "ECDH-ES+A192KW", "ECDH-ES+A256KW"], "claim_types_supported": ["normal", "aggregated", "distributed"], "id_token_encryption_alg_values_supported": ["RSA1_5", "RSA-OAEP", "A128KW", "A192KW", "A256KW", "ECDH-ES", "ECDH-ES+A128KW", "ECDH-ES+A192KW", "ECDH-ES+A256KW"], "userinfo_signing_alg_values_supported": ["RS256", "RS384", "RS512", "ES256", "ES384", "ES512", "HS256", "HS384", "HS512", "PS256", "PS384", "PS512", "none"], "claims_supported": ["updated_at", "name", "nickname", "sub", "middle_name", "locale", "phone_number_verified", "family_name", "email_verified", "website", "address", "zoneinfo", "email", "given_name", "birthdate", "preferred_username", "profile", "phone_number", "picture", "gender"], "version": "3.0", "claims_parameter_supported": true, "grant_types_supported": ["authorization_code", "implicit", "urn:ietf:params:oauth:grant-type:jwt-bearer"], "request_uri_parameter_supported": true, "subject_types_supported": ["public", "pairwise"], "scopes_supported": ["phone", "email", "offline_access", "openid", "profile", "address", "openid"], "request_object_encryption_alg_values_supported": ["RSA1_5", "RSA-OAEP", "A128KW", "A192KW", "A256KW", "ECDH-ES", "ECDH-ES+A128KW", "ECDH-ES+A192KW", "ECDH-ES+A256KW"], "end_session_endpoint": "https://rp.certification.openid.net:8080/nov-rp-certified/rp-id_token-sub/end_session", "registration_endpoint": "https://rp.certification.openid.net:8080/nov-rp-certified/rp-id_token-sub/registration", "id_token_encryption_enc_values_supported": ["A128CBC-HS256", "A192CBC-HS384", "A256CBC-HS512", "A128GCM", "A192GCM", "A256GCM"], "token_endpoint_auth_signing_alg_values_supported": ["RS256", "RS384", "RS512", "ES256", "ES384", "ES512", "HS256", "HS384", "HS512", "PS256", "PS384", "PS512"], "issuer": "https://rp.certification.openid.net:8080/nov-rp-certified/rp-id_token-sub", "authorization_endpoint": "https://rp.certification.openid.net:8080/nov-rp-certified/rp-id_token-sub/authorization", "acr_values_supported": ["PASSWORD"]}
2017-01-19T15:59:40.003338+00:00 app[web.1]: ======= [SWD] HTTP REQUEST FINISHED =======
2017-01-19T15:59:40.014789+00:00 app[web.1]: I, [2017-01-19T15:59:40.014690 #4]  INFO -- : [9f854a45-d34c-4ba5-b4bd-564faa2a2092] ======= [OpenIDConnect] HTTP REQUEST STARTED =======
2017-01-19T15:59:40.017553+00:00 app[web.1]: I, [2017-01-19T15:59:40.017337 #4]  INFO -- : [9f854a45-d34c-4ba5-b4bd-564faa2a2092] POST /nov-rp-certified/rp-id_token-sub/registration HTTP/1.1
2017-01-19T15:59:40.017555+00:00 app[web.1]: Content-Type: application/json
2017-01-19T15:59:40.017556+00:00 app[web.1]: Content-Length: 166
2017-01-19T15:59:40.017557+00:00 app[web.1]: Host: rp.certification.openid.net:8080
2017-01-19T15:59:40.017558+00:00 app[web.1]:
2017-01-19T15:59:40.017559+00:00 app[web.1]: {"application_type":"web","client_name":"NOV RP - rp-id_token-sub","redirect_uris":["https://connect-rp-certified.herokuapp.com/test_case_callbacks/rp-id_token-sub"]}
2017-01-19T15:59:40.106591+00:00 app[web.1]: I, [2017-01-19T15:59:40.106458 #4]  INFO -- : [9f854a45-d34c-4ba5-b4bd-564faa2a2092] --------------------------------------------------
2017-01-19T15:59:40.107375+00:00 app[web.1]: I, [2017-01-19T15:59:40.106573 #4]  INFO -- : [9f854a45-d34c-4ba5-b4bd-564faa2a2092] Status: 201 Created
2017-01-19T15:59:40.107376+00:00 app[web.1]: Cache-Control: no-store
2017-01-19T15:59:40.107377+00:00 app[web.1]: Content-type: application/json
2017-01-19T15:59:40.107378+00:00 app[web.1]: Access-Control-Allow-Origin: *
2017-01-19T15:59:40.107378+00:00 app[web.1]: Access-Control-Allow-Methods: GET
2017-01-19T15:59:40.107379+00:00 app[web.1]: Access-Control-Allow-Headers: Authorization
2017-01-19T15:59:40.107380+00:00 app[web.1]: Transfer-Encoding: chunked
2017-01-19T15:59:40.107380+00:00 app[web.1]: Date: Thu, 19 Jan 2017 15:59:40 GMT
2017-01-19T15:59:40.107381+00:00 app[web.1]: Server: openid-www2
2017-01-19T15:59:40.107382+00:00 app[web.1]: Content-Length: 0
2017-01-19T15:59:40.107382+00:00 app[web.1]:
2017-01-19T15:59:40.107390+00:00 app[web.1]: {"client_id": "oB57eeen8I6W", "client_secret": "ed5d4773857e4d4d5ad0aa18e4dcc49056d2ba5c532a1fc3dd62bed4", "response_types": ["code"], "client_name": "NOV RP - rp-id_token-sub", "application_type": "web", "registration_client_uri": "https://rp.certification.openid.net:8080/nov-rp-certified/registration?client_id=oB57eeen8I6W", "registration_access_token": "cvZFeoEqgsym8Vq4VNeqInLiYYoTrAxG", "redirect_uris": ["https://connect-rp-certified.herokuapp.com/test_case_callbacks/rp-id_token-sub"], "client_id_issued_at": 1484841580, "client_secret_expires_at": 1484927980}
2017-01-19T15:59:40.107644+00:00 app[web.1]: I, [2017-01-19T15:59:40.107376 #4]  INFO -- : [9f854a45-d34c-4ba5-b4bd-564faa2a2092] ======= [OpenIDConnect] HTTP REQUEST FINISHED =======
2017-01-19T15:59:40.134417+00:00 app[web.1]: D, [2017-01-19T15:59:40.134266 #4] DEBUG -- : [9f854a45-d34c-4ba5-b4bd-564faa2a2092]    (20.7ms)  BEGIN
2017-01-19T15:59:40.151685+00:00 app[web.1]: D, [2017-01-19T15:59:40.151551 #4] DEBUG -- : [9f854a45-d34c-4ba5-b4bd-564faa2a2092]   Client Exists (10.7ms)  SELECT  1 AS one FROM "clients" WHERE "clients"."identifier" = $1 LIMIT $2  [["identifier", "oB57eeen8I6W"], ["LIMIT", 1]]
2017-01-19T15:59:40.156833+00:00 app[web.1]: D, [2017-01-19T15:59:40.156752 #4] DEBUG -- : [9f854a45-d34c-4ba5-b4bd-564faa2a2092]   SQL (3.3ms)  INSERT INTO "clients" ("test_case_id", "identifier", "secret", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["test_case_id", 16], ["identifier", "oB57eeen8I6W"], ["secret", "ed5d4773857e4d4d5ad0aa18e4dcc49056d2ba5c532a1fc3dd62bed4"], ["created_at", 2017-01-19 15:59:40 UTC], ["updated_at", 2017-01-19 15:59:40 UTC]]
2017-01-19T15:59:40.159676+00:00 app[web.1]: D, [2017-01-19T15:59:40.159594 #4] DEBUG -- : [9f854a45-d34c-4ba5-b4bd-564faa2a2092]    (2.2ms)  COMMIT
2017-01-19T15:59:40.160767+00:00 app[web.1]: I, [2017-01-19T15:59:40.160682 #4]  INFO -- : [9f854a45-d34c-4ba5-b4bd-564faa2a2092] Redirected to https://rp.certification.openid.net:8080/nov-rp-certified/rp-id_token-sub/authorization?client_id=oB57eeen8I6W&nonce=363f27d55808801a7c415b7364a6e535&redirect_uri=https%3A%2F%2Fconnect-rp-certified.herokuapp.com%2Ftest_case_callbacks%2Frp-id_token-sub&response_type=code&scope=profile+email+address+phone+openid&state=66dbbe43c88204509e5d9aa6f44b1894
2017-01-19T15:59:40.161032+00:00 app[web.1]: I, [2017-01-19T15:59:40.160961 #4]  INFO -- : [9f854a45-d34c-4ba5-b4bd-564faa2a2092] Completed 302 Found in 228ms (ActiveRecord: 37.8ms)
2017-01-19T15:59:40.161344+00:00 heroku[router]: at=info method=GET path="/test_cases/rp-id_token-sub" host=connect-rp-certified.herokuapp.com request_id=9f854a45-d34c-4ba5-b4bd-564faa2a2092 fwd="122.210.153.65" dyno=web.1 connect=1ms service=237ms status=302 bytes=1726
2017-01-19T15:59:41.223889+00:00 heroku[router]: at=info method=GET path="/test_case_callbacks/rp-id_token-sub?client_id=oB57eeen8I6W&iss=https%3A%2F%2Frp.certification.openid.net%3A8080%2Fnov-rp-certified%2Frp-id_token-sub&scope=profile+email+address+phone+openid&code=yo8GlFzgaRY8KHwKllRCxW7OJ%2BU5s1Q3UTDuRoEmsh3AUtWsBMpNpD60QZhco%2FDU6VK%2B9y1T%2BDuO65dYho9oT73Fqr3kPquQsQ%2FpoIqGqdjyF7EkOEG2RV6jszl30NnGHNCYVKvmNej502V9CsGmmg%3D%3D&state=66dbbe43c88204509e5d9aa6f44b1894" host=connect-rp-certified.herokuapp.com request_id=13afecd7-d0fb-42ca-a0cf-6d5a700f288d fwd="122.210.153.65" dyno=web.1 connect=30ms service=203ms status=200 bytes=2789
2017-01-19T15:59:41.035472+00:00 app[web.1]: I, [2017-01-19T15:59:41.035372 #4]  INFO -- : [13afecd7-d0fb-42ca-a0cf-6d5a700f288d] Started GET "/test_case_callbacks/rp-id_token-sub?client_id=oB57eeen8I6W&iss=https%3A%2F%2Frp.certification.openid.net%3A8080%2Fnov-rp-certified%2Frp-id_token-sub&scope=profile+email+address+phone+openid&code=yo8GlFzgaRY8KHwKllRCxW7OJ%2BU5s1Q3UTDuRoEmsh3AUtWsBMpNpD60QZhco%2FDU6VK%2B9y1T%2BDuO65dYho9oT73Fqr3kPquQsQ%2FpoIqGqdjyF7EkOEG2RV6jszl30NnGHNCYVKvmNej502V9CsGmmg%3D%3D&state=66dbbe43c88204509e5d9aa6f44b1894" for 122.210.153.65 at 2017-01-19 15:59:41 +0000
2017-01-19T15:59:41.037267+00:00 app[web.1]: I, [2017-01-19T15:59:41.037200 #4]  INFO -- : [13afecd7-d0fb-42ca-a0cf-6d5a700f288d] Processing by TestCaseCallbacksController#show as HTML
2017-01-19T15:59:41.037410+00:00 app[web.1]: I, [2017-01-19T15:59:41.037341 #4]  INFO -- : [13afecd7-d0fb-42ca-a0cf-6d5a700f288d]   Parameters: {"client_id"=>"oB57eeen8I6W", "iss"=>"https://rp.certification.openid.net:8080/nov-rp-certified/rp-id_token-sub", "scope"=>"profile email address phone openid", "code"=>"yo8GlFzgaRY8KHwKllRCxW7OJ+U5s1Q3UTDuRoEmsh3AUtWsBMpNpD60QZhco/DU6VK+9y1T+DuO65dYho9oT73Fqr3kPquQsQ/poIqGqdjyF7EkOEG2RV6jszl30NnGHNCYVKvmNej502V9CsGmmg==", "state"=>"66dbbe43c88204509e5d9aa6f44b1894", "id"=>"rp-id_token-sub"}
2017-01-19T15:59:41.044220+00:00 app[web.1]: D, [2017-01-19T15:59:41.044093 #4] DEBUG -- : [13afecd7-d0fb-42ca-a0cf-6d5a700f288d]   TestCase Load (1.0ms)  SELECT  "test_cases".* FROM "test_cases" WHERE "test_cases"."identifier" = $1 LIMIT $2  [["identifier", "rp-id_token-sub"], ["LIMIT", 1]]
2017-01-19T15:59:41.048864+00:00 app[web.1]: D, [2017-01-19T15:59:41.048776 #4] DEBUG -- : [13afecd7-d0fb-42ca-a0cf-6d5a700f288d]   Client Load (1.0ms)  SELECT  "clients".* FROM "clients" WHERE "clients"."test_case_id" = $1 AND "clients"."identifier" = $2 LIMIT $3  [["test_case_id", 16], ["identifier", "oB57eeen8I6W"], ["LIMIT", 1]]
2017-01-19T15:59:41.050773+00:00 app[web.1]: I, [2017-01-19T15:59:41.050695 #4]  INFO -- : [13afecd7-d0fb-42ca-a0cf-6d5a700f288d] ======= [SWD] HTTP REQUEST STARTED =======
2017-01-19T15:59:41.050775+00:00 app[web.1]: GET /nov-rp-certified/rp-id_token-sub/.well-known/openid-configuration HTTP/1.1
2017-01-19T15:59:41.050776+00:00 app[web.1]: Host: rp.certification.openid.net:8080
2017-01-19T15:59:41.050777+00:00 app[web.1]:
2017-01-19T15:59:41.050778+00:00 app[web.1]:
2017-01-19T15:59:41.102663+00:00 app[web.1]: I, [2017-01-19T15:59:41.102552 #4]  INFO -- : [13afecd7-d0fb-42ca-a0cf-6d5a700f288d] --------------------------------------------------
2017-01-19T15:59:41.102666+00:00 app[web.1]: Status: 200 OK
2017-01-19T15:59:41.102667+00:00 app[web.1]: Cache-Control: no-store
2017-01-19T15:59:41.102668+00:00 app[web.1]: x-ffo: bar
2017-01-19T15:59:41.102668+00:00 app[web.1]: Content-type: application/json
2017-01-19T15:59:41.102669+00:00 app[web.1]: Access-Control-Allow-Origin: *
2017-01-19T15:59:41.102670+00:00 app[web.1]: Access-Control-Allow-Methods: GET
2017-01-19T15:59:41.102671+00:00 app[web.1]: Access-Control-Allow-Headers: Authorization
2017-01-19T15:59:41.102671+00:00 app[web.1]: Transfer-Encoding: chunked
2017-01-19T15:59:41.102672+00:00 app[web.1]: Date: Thu, 19 Jan 2017 15:59:41 GMT
2017-01-19T15:59:41.102673+00:00 app[web.1]: Server: openid-www2
2017-01-19T15:59:41.102673+00:00 app[web.1]: Content-Length: 0
2017-01-19T15:59:41.102674+00:00 app[web.1]:
2017-01-19T15:59:41.102680+00:00 app[web.1]: {"request_parameter_supported": true, "require_request_uri_registration": true, "response_types_supported": ["code", "id_token", "id_token token", "code id_token", "code token", "code id_token token"], "id_token_signing_alg_values_supported": ["RS256", "RS384", "RS512", "ES256", "ES384", "ES512", "HS256", "HS384", "HS512", "PS256", "PS384", "PS512", "none"], "token_endpoint_auth_methods_supported": ["client_secret_post", "client_secret_basic", "client_secret_jwt", "private_key_jwt"], "request_object_encryption_enc_values_supported": ["A128CBC-HS256", "A192CBC-HS384", "A256CBC-HS512", "A128GCM", "A192GCM", "A256GCM"], "response_modes_supported": ["query", "fragment", "form_post"], "jwks_uri": "https://rp.certification.openid.net:8080/static/jwks_nCvSvxwlCbvr4zny.json", "userinfo_endpoint": "https://rp.certification.openid.net:8080/nov-rp-certified/rp-id_token-sub/userinfo", "request_object_signing_alg_values_supported": ["RS256", "RS384", "RS512", "ES256", "ES384", "ES512", "HS256", "HS384", "HS512", "PS256", "PS384", "PS512", "none"], "userinfo_encryption_enc_values_supported": ["A128CBC-HS256", "A192CBC-HS384", "A256CBC-HS512", "A128GCM", "A192GCM", "A256GCM"], "token_endpoint": "https://rp.certification.openid.net:8080/nov-rp-certified/rp-id_token-sub/token", "userinfo_encryption_alg_values_supported": ["RSA1_5", "RSA-OAEP", "A128KW", "A192KW", "A256KW", "ECDH-ES", "ECDH-ES+A128KW", "ECDH-ES+A192KW", "ECDH-ES+A256KW"], "claim_types_supported": ["normal", "aggregated", "distributed"], "id_token_encryption_alg_values_supported": ["RSA1_5", "RSA-OAEP", "A128KW", "A192KW", "A256KW", "ECDH-ES", "ECDH-ES+A128KW", "ECDH-ES+A192KW", "ECDH-ES+A256KW"], "userinfo_signing_alg_values_supported": ["RS256", "RS384", "RS512", "ES256", "ES384", "ES512", "HS256", "HS384", "HS512", "PS256", "PS384", "PS512", "none"], "claims_supported": ["updated_at", "name", "nickname", "sub", "middle_name", "locale", "phone_number_verified", "family_name", "email_verified", "website", "address", "zoneinfo", "email", "given_name", "birthdate", "preferred_username", "profile", "phone_number", "picture", "gender"], "version": "3.0", "claims_parameter_supported": true, "grant_types_supported": ["authorization_code", "implicit", "urn:ietf:params:oauth:grant-type:jwt-bearer"], "request_uri_parameter_supported": true, "subject_types_supported": ["public", "pairwise"], "scopes_supported": ["phone", "email", "offline_access", "openid", "profile", "address", "openid"], "request_object_encryption_alg_values_supported": ["RSA1_5", "RSA-OAEP", "A128KW", "A192KW", "A256KW", "ECDH-ES", "ECDH-ES+A128KW", "ECDH-ES+A192KW", "ECDH-ES+A256KW"], "end_session_endpoint": "https://rp.certification.openid.net:8080/nov-rp-certified/rp-id_token-sub/end_session", "registration_endpoint": "https://rp.certification.openid.net:8080/nov-rp-certified/rp-id_token-sub/registration", "id_token_encryption_enc_values_supported": ["A128CBC-HS256", "A192CBC-HS384", "A256CBC-HS512", "A128GCM", "A192GCM", "A256GCM"], "token_endpoint_auth_signing_alg_values_supported": ["RS256", "RS384", "RS512", "ES256", "ES384", "ES512", "HS256", "HS384", "HS512", "PS256", "PS384", "PS512"], "issuer": "https://rp.certification.openid.net:8080/nov-rp-certified/rp-id_token-sub", "authorization_endpoint": "https://rp.certification.openid.net:8080/nov-rp-certified/rp-id_token-sub/authorization", "acr_values_supported": ["PASSWORD"]}
2017-01-19T15:59:41.102681+00:00 app[web.1]: ======= [SWD] HTTP REQUEST FINISHED =======
2017-01-19T15:59:41.108510+00:00 app[web.1]: I, [2017-01-19T15:59:41.108435 #4]  INFO -- : [13afecd7-d0fb-42ca-a0cf-6d5a700f288d] ======= [Rack::OAuth2] HTTP REQUEST STARTED =======
2017-01-19T15:59:41.108626+00:00 app[web.1]: I, [2017-01-19T15:59:41.108535 #4]  INFO -- : [13afecd7-d0fb-42ca-a0cf-6d5a700f288d] POST /nov-rp-certified/rp-id_token-sub/token HTTP/1.1
2017-01-19T15:59:41.108628+00:00 app[web.1]: Authorization: Basic b0I1N2VlZW44STZXOmVkNWQ0NzczODU3ZTRkNGQ1YWQwYWExOGU0ZGNjNDkwNTZkMmJhNWM1MzJhMWZjM2RkNjJiZWQ0
2017-01-19T15:59:41.108628+00:00 app[web.1]: Content-Type: application/x-www-form-urlencoded
2017-01-19T15:59:41.108629+00:00 app[web.1]: Content-Length: 303
2017-01-19T15:59:41.108630+00:00 app[web.1]: Host: rp.certification.openid.net:8080
2017-01-19T15:59:41.108631+00:00 app[web.1]:
2017-01-19T15:59:41.108632+00:00 app[web.1]: grant_type=authorization_code&code=yo8GlFzgaRY8KHwKllRCxW7OJ%2BU5s1Q3UTDuRoEmsh3AUtWsBMpNpD60QZhco%2FDU6VK%2B9y1T%2BDuO65dYho9oT73Fqr3kPquQsQ%2FpoIqGqdjyF7EkOEG2RV6jszl30NnGHNCYVKvmNej502V9CsGmmg%3D%3D&redirect_uri=https%3A%2F%2Fconnect-rp-certified.herokuapp.com%2Ftest_case_callbacks%2Frp-id_token-sub
2017-01-19T15:59:41.160498+00:00 app[web.1]: I, [2017-01-19T15:59:41.160401 #4]  INFO -- : [13afecd7-d0fb-42ca-a0cf-6d5a700f288d] --------------------------------------------------
2017-01-19T15:59:41.160531+00:00 app[web.1]: I, [2017-01-19T15:59:41.160484 #4]  INFO -- : [13afecd7-d0fb-42ca-a0cf-6d5a700f288d] Status: 200 OK
2017-01-19T15:59:41.160532+00:00 app[web.1]: Content-type: application/json
2017-01-19T15:59:41.160533+00:00 app[web.1]: Access-Control-Allow-Origin: *
2017-01-19T15:59:41.160534+00:00 app[web.1]: Access-Control-Allow-Methods: GET
2017-01-19T15:59:41.160534+00:00 app[web.1]: Access-Control-Allow-Headers: Authorization
2017-01-19T15:59:41.160535+00:00 app[web.1]: Transfer-Encoding: chunked
2017-01-19T15:59:41.160535+00:00 app[web.1]: Date: Thu, 19 Jan 2017 15:59:41 GMT
2017-01-19T15:59:41.160536+00:00 app[web.1]: Server: openid-www2
2017-01-19T15:59:41.160537+00:00 app[web.1]: Content-Length: 0
2017-01-19T15:59:41.160538+00:00 app[web.1]:
2017-01-19T15:59:41.160540+00:00 app[web.1]: {"token_type": "Bearer", "scope": "profile email address phone openid", "access_token": "V6X1u3gYKEuHlPGH2752qpv1z+ZTWG/WevrAC3+ErDzXtNwP06UHX7e26Xq2S9ee+vSYGKVfpI088OvTUpZEkA+FUWkf/Vi5wH9e8AhqfQOBvoduKhHPWOFqBbU0vc561/7oLtOM6uHKBWhkzd4AJg==", "state": "66dbbe43c88204509e5d9aa6f44b1894", "id_token": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImJfRGxmVk5CbWdHSFViekxmYzNKa1I5SUpJTmNZZ2NRN01yZ0hmUkxhcDAifQ.eyJpc3MiOiAiaHR0cHM6Ly9ycC5jZXJ0aWZpY2F0aW9uLm9wZW5pZC5uZXQ6ODA4MC9ub3YtcnAtY2VydGlmaWVkL3JwLWlkX3Rva2VuLXN1YiIsICJpYXQiOiAxNDg0ODQxNTgxLCAibm9uY2UiOiAiMzYzZjI3ZDU1ODA4ODAxYTdjNDE1YjczNjRhNmU1MzUiLCAiZXhwIjogMTQ4NDkyNzk4MSwgImFjciI6ICJQQVNTV09SRCIsICJhdWQiOiBbIm9CNTdlZWVuOEk2VyJdLCAiYXV0aF90aW1lIjogMTQ4NDg0MTU4MH0.lsQ8EbKmdXnEuKa4OiKQb11AN-O3e50MxVCiDBzazkzDzDimjRTu2Q6dD7ZjifbWAtFUYQlmxhgjphTe6FYcyXuBt85rRRO-1VzSm9eEtIVB3iRCe7YusNf7eHjFBvW3EIO7WdkhNpnr5wnbdV4_2W4sstZdcOCV1DbuxjJY_-L23QRVv2XCnzviAmFDegqxdG_8eYIj7CjdYbfHTcqgZLAMB8HwQWWVo_AJRcH-QzLmi2WvImjA-yRubIKZGkk_VWJbaA-Xjr5v3TuTSjbDkL-iHYPB_i93SROeO8FPvDaLoSvH5x7ixzbV_HGuWi7-9JNiUZCuyvgH1baFnHu7HA"}
2017-01-19T15:59:41.160572+00:00 app[web.1]: I, [2017-01-19T15:59:41.160530 #4]  INFO -- : [13afecd7-d0fb-42ca-a0cf-6d5a700f288d] ======= [Rack::OAuth2] HTTP REQUEST FINISHED =======
2017-01-19T15:59:41.161585+00:00 app[web.1]: I, [2017-01-19T15:59:41.161476 #4]  INFO -- : [13afecd7-d0fb-42ca-a0cf-6d5a700f288d] ======= [OpenIDConnect] HTTP REQUEST STARTED =======
2017-01-19T15:59:41.161628+00:00 app[web.1]: I, [2017-01-19T15:59:41.161584 #4]  INFO -- : [13afecd7-d0fb-42ca-a0cf-6d5a700f288d] GET /static/jwks_nCvSvxwlCbvr4zny.json HTTP/1.1
2017-01-19T15:59:41.161630+00:00 app[web.1]: Host: rp.certification.openid.net:8080
2017-01-19T15:59:41.161630+00:00 app[web.1]:
2017-01-19T15:59:41.161631+00:00 app[web.1]:
2017-01-19T15:59:41.205903+00:00 app[web.1]: I, [2017-01-19T15:59:41.205762 #4]  INFO -- : [13afecd7-d0fb-42ca-a0cf-6d5a700f288d] --------------------------------------------------
2017-01-19T15:59:41.205956+00:00 app[web.1]: I, [2017-01-19T15:59:41.205878 #4]  INFO -- : [13afecd7-d0fb-42ca-a0cf-6d5a700f288d] Status: 200 OK
2017-01-19T15:59:41.205958+00:00 app[web.1]: Content-type: text/html
2017-01-19T15:59:41.205958+00:00 app[web.1]: Access-Control-Allow-Origin: *
2017-01-19T15:59:41.205960+00:00 app[web.1]: Access-Control-Allow-Methods: GET
2017-01-19T15:59:41.205960+00:00 app[web.1]: Access-Control-Allow-Headers: Authorization
2017-01-19T15:59:41.205961+00:00 app[web.1]: Transfer-Encoding: chunked
2017-01-19T15:59:41.205962+00:00 app[web.1]: Date: Thu, 19 Jan 2017 15:59:41 GMT
2017-01-19T15:59:41.205962+00:00 app[web.1]: Server: openid-www2
2017-01-19T15:59:41.205963+00:00 app[web.1]: Content-Length: 0
2017-01-19T15:59:41.205964+00:00 app[web.1]:
2017-01-19T15:59:41.205967+00:00 app[web.1]: {"keys": [{"kty": "RSA", "e": "AQAB", "n": "qAEO5HN-iXYser8joW8u2Uhegg0egZ0Y1bk_WNt4NKrQJbMdf5o7Kl6eRIQ9oQfR5e7b6oUSwHtngNd3o1KZHKzyxPYp72i9HCKKxZPvnC7_1xNhBvqR3cjSogPDhBxtiho2vtgPxmhQOjtjV3yS-Ik8twPUSwfY1GxLZjeXeIXCLrd-3hFKgeoOcwENvaolTTUf9CxIfpKk0s95B1V8mLFvjVqT7ftn84VQdf88kwBTEIThRlM9Ot00NoNgbitmf95xj8sMera-ZT2zBElBnlMFiLN_bHuADQROimy-iGfhqpH3d_tWaAtXZFCJ7OY6CDPVQZ9fKSjmLeeDOyFR_Q", "kid": "48Afw-zz40sUw6Uj8ZCsfqnm0q9Bq3bK9yYcozi50Zw", "use": "enc"}, {"kty": "RSA", "e": "AQAB", "n": "tR3l3Oc1_sNfRbHp_BIjh52bL8o4-S21GlRAhRb0vSdnfIFWJKM6SRPtZh96ShDdWja-lZC7f2rqK1iNVsEi5FYcRcEUN5-wcZimoee7jo_DzFozRhqu2x57Y2YGE-b1GhgyM6PjLd8NMoU60eQ7SHACuJj_2ewtK-ffNuxCnyK9O_TMq-vi4OUousQXDJxaOrHnVYZvxGBtwgM-oGWF2o0VOAS9A8RRT-1SpIwcnNRrg_hUtCh3W-epzb_Hm5fBsA6YBmTc2cHIqDwq0ue8T3WM7NKX7Wg-FcZFV4IJOzkJ8KYDbTqDBjiiygYUVKTQl4WdIm9ova-Fblo8iceiOw", "kid": "b_DlfVNBmgGHUbzLfc3JkR9IJINcYgcQ7MrgHfRLap0", "use": "sig"}, {"y": "ZV-Qv-l0W4x6bRtZpY9nbtfB16IsbZgD_s1Ij0tzzqw", "x": "gbXzgi85BLLirjFbjdYU4xqvodAKOnPThlXE1I0h_q4", "kty": "EC", "crv": "P-256", "kid": "CzHDxT2OrV2yblaTU_M1T-FfYbLIlsyvSNJORAycY_Q", "use": "sig"}, {"y": "iq4cg4edBnFiCRQ8dtSPLpq76h7mO1Z3imKAwPYToQ", "x": "eS0QXtIGq1ri29CtaSa5PD8PBkGL3domM70f3YO-vaU", "kty": "EC", "crv": "P-256", "kid": "jctMt0kDRN2mxEszSTvfw1DqpESssVWnZo24vQQMjDc", "use": "enc"}]}
2017-01-19T15:59:41.206056+00:00 app[web.1]: I, [2017-01-19T15:59:41.205958 #4]  INFO -- : [13afecd7-d0fb-42ca-a0cf-6d5a700f288d] ======= [OpenIDConnect] HTTP REQUEST FINISHED =======
2017-01-19T15:59:41.207486+00:00 app[web.1]: I, [2017-01-19T15:59:41.207411 #4]  INFO -- : [13afecd7-d0fb-42ca-a0cf-6d5a700f288d] # ERROR => 'sub' required. (AttrRequired::AttrMissing)
2017-01-19T15:59:41.207488+00:00 app[web.1]:
2017-01-19T15:59:41.208130+00:00 app[web.1]: I, [2017-01-19T15:59:41.208051 #4]  INFO -- : [13afecd7-d0fb-42ca-a0cf-6d5a700f288d]   Rendering protocol_error.html.erb within layouts/popup
2017-01-19T15:59:41.208390+00:00 app[web.1]: I, [2017-01-19T15:59:41.208322 #4]  INFO -- : [13afecd7-d0fb-42ca-a0cf-6d5a700f288d]   Rendered protocol_error.html.erb within layouts/popup (0.1ms)
2017-01-19T15:59:41.222000+00:00 app[web.1]: I, [2017-01-19T15:59:41.221754 #4]  INFO -- : [13afecd7-d0fb-42ca-a0cf-6d5a700f288d]   Rendered layouts/_wrapper.html.erb (13.1ms)
2017-01-19T15:59:41.222251+00:00 app[web.1]: I, [2017-01-19T15:59:41.222173 #4]  INFO -- : [13afecd7-d0fb-42ca-a0cf-6d5a700f288d] Completed 200 OK in 185ms (Views: 14.4ms | ActiveRecord: 1.9ms)